<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1678px" preserveAspectRatio="none" style="width:2128px;height:1678px;background:#FFFFFF;" version="1.1" viewBox="0 0 2128 1678" width="2128px" zoomAndPan="magnify"><title>Vista de Processo - N&#237;vel 4: BookService.create() - Cria&#231;&#227;o de Livro com Profile-based ID Generation</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="725.1904" x="705.6418" y="28.5352">Vista de Processo - N&#237;vel 4: BookService.create() - Cria&#231;&#227;o de Livro com Profile-based ID Generation</text><rect fill="#ADD8E6" height="1628.8516" style="stroke:#181818;stroke-width:0.5;" width="263.834" x="1007.1304" y="43.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="141.2734" x="1068.4106" y="56.0566">Carregado via Profile</text><g><title>.BookController</title><rect fill="#FFFFFF" height="236.7949" style="stroke:#181818;stroke-width:1;" width="10" x="314.334" y="369.3242"/></g><g><title>.BookService</title><rect fill="#FFFFFF" height="162.8633" style="stroke:#181818;stroke-width:1;" width="10" x="569.5581" y="398.6348"/></g><g><title>.BookFactory</title><rect fill="#FFFFFF" height="389.9688" style="stroke:#181818;stroke-width:1;" width="10" x="945.5547" y="806.293"/></g><g><title>.IdGenerator</title><rect fill="#FFFFFF" height="180.8633" style="stroke:#181818;stroke-width:1;" width="10" x="1055.4824" y="835.6035"/></g><g><title>.Base65IdGenerator</title><rect fill="#FFFFFF" height="122.2422" style="stroke:#181818;stroke-width:1;" width="10" x="1188.3994" y="864.9141"/></g><g><title>.Book</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1353.9292" y="1137.6406"/></g><g><title>.GenreRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1455.2061" y="478.5664"/></g><g><title>.AuthorRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1599.1289" y="642.4297"/></g><g><title>.BookRepository</title><rect fill="#FFFFFF" height="110.5527" style="stroke:#181818;stroke-width:1;" width="10" x="1739.7021" y="1225.5723"/></g><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="624.1563" x="10" y="522.877"/><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="624.1563" x="10" y="686.7402"/><g><title>.Cliente</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="44.8672" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="48" x2="48" y1="118.9766" y2="1592.8516"/></g><g><title>.BookController</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="315.334" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="319.3213" x2="319.3213" y1="118.9766" y2="1592.8516"/></g><g><title>.BookService</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="570.5581" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="573.96" x2="573.96" y1="118.9766" y2="1592.8516"/></g><g><title>.BookFactory</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="946.5547" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="949.979" x2="949.979" y1="118.9766" y2="1592.8516"/></g><g><title>.IdGenerator</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="1056.4824" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1060.1304" x2="1060.1304" y1="118.9766" y2="1592.8516"/></g><g><title>.Base65IdGenerator</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="1189.3994" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1192.8345" x2="1192.8345" y1="118.9766" y2="1592.8516"/></g><g><title>.Book</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="1354.9292" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1357.9971" x2="1357.9971" y1="118.9766" y2="1592.8516"/></g><g><title>.GenreRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="1456.2061" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1459.8613" x2="1459.8613" y1="118.9766" y2="1592.8516"/></g><g><title>.AuthorRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="1600.1289" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1603.5508" x2="1603.5508" y1="118.9766" y2="1592.8516"/></g><g><title>.BookRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1473.875" width="8" x="1740.7021" y="118.9766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1743.707" x2="1743.707" y1="118.9766" y2="1592.8516"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7344" x="20" y="116.0234">:Cliente</text><ellipse cx="48.8672" cy="50.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.8672,58.9883 L48.8672,85.9883 M35.8672,66.9883 L61.8672,66.9883 M48.8672,85.9883 L35.8672,100.9883 M48.8672,85.9883 L61.8672,100.9883" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7344" x="20" y="1605.3867">:Cliente</text><ellipse cx="48.8672" cy="1616.8398" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.8672,1624.8398 L48.8672,1651.8398 M35.8672,1632.8398 L61.8672,1632.8398 M48.8672,1651.8398 L35.8672,1666.8398 M48.8672,1651.8398 L61.8672,1666.8398" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.0254" x="259.3213" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.0254" x="266.3213" y="108.0234">:BookController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.0254" x="259.3213" y="1591.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.0254" x="266.3213" y="1612.3867">:BookController</text></g><g class="participant participant-head" data-participant="Service"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.1963" x="524.96" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.1963" x="531.96" y="108.0234">:BookService</text></g><g class="participant participant-tail" data-participant="Service"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.1963" x="524.96" y="1591.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.1963" x="531.96" y="1612.3867">:BookService</text></g><g class="participant participant-head" data-participant="Factory"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1514" x="899.979" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1514" x="906.979" y="108.0234">:BookFactory</text></g><g class="participant participant-tail" data-participant="Factory"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1514" x="899.979" y="1591.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1514" x="906.979" y="1612.3867">:BookFactory</text></g><g class="participant participant-head" data-participant="IdGenInterface"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.7041" x="1011.1304" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.7041" x="1018.1304" y="91.5352">:IdGenerator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.0195" x="1023.4727" y="108.0234">&#171;interface&#187;</text></g><g class="participant participant-tail" data-participant="IdGenInterface"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.7041" x="1011.1304" y="1591.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.7041" x="1018.1304" y="1612.3867">:IdGenerator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.0195" x="1023.4727" y="1628.875">&#171;interface&#187;</text></g><g class="participant participant-head" data-participant="Base65Generator"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.1299" x="1119.8345" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.1299" x="1126.8345" y="91.5352">:Base65IdGenerator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="1133.4858" y="108.0234">@Profile('base65')</text></g><g class="participant participant-tail" data-participant="Base65Generator"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.1299" x="1119.8345" y="1591.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.1299" x="1126.8345" y="1612.3867">:Base65IdGenerator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="1133.4858" y="1628.875">@Profile('base65')</text></g><g class="participant participant-head" data-participant="Book"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51.8643" x="1332.9971" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.8643" x="1339.9971" y="108.0234">:Book</text></g><g class="participant participant-tail" data-participant="Book"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51.8643" x="1332.9971" y="1591.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.8643" x="1339.9971" y="1612.3867">:Book</text></g><g class="participant participant-head" data-participant="GenreRepo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.6895" x="1394.8613" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.6895" x="1401.8613" y="108.0234">:GenreRepository</text></g><g class="participant participant-tail" data-participant="GenreRepo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.6895" x="1394.8613" y="1591.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.6895" x="1401.8613" y="1612.3867">:GenreRepository</text></g><g class="participant participant-head" data-participant="AuthorRepo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137.1563" x="1535.5508" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.1563" x="1542.5508" y="108.0234">:AuthorRepository</text></g><g class="participant participant-tail" data-participant="AuthorRepo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137.1563" x="1535.5508" y="1591.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.1563" x="1542.5508" y="1612.3867">:AuthorRepository</text></g><g class="participant participant-head" data-participant="BookRepo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.9902" x="1682.707" y="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9902" x="1689.707" y="108.0234">:BookRepository</text></g><g class="participant participant-tail" data-participant="BookRepo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.9902" x="1682.707" y="1591.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9902" x="1689.707" y="1612.3867">:BookRepository</text></g><g><title>.BookController</title><rect fill="#FFFFFF" height="236.7949" style="stroke:#181818;stroke-width:1;" width="10" x="314.334" y="369.3242"/></g><g><title>.BookService</title><rect fill="#FFFFFF" height="162.8633" style="stroke:#181818;stroke-width:1;" width="10" x="569.5581" y="398.6348"/></g><g><title>.BookFactory</title><rect fill="#FFFFFF" height="389.9688" style="stroke:#181818;stroke-width:1;" width="10" x="945.5547" y="806.293"/></g><g><title>.IdGenerator</title><rect fill="#FFFFFF" height="180.8633" style="stroke:#181818;stroke-width:1;" width="10" x="1055.4824" y="835.6035"/></g><g><title>.Base65IdGenerator</title><rect fill="#FFFFFF" height="122.2422" style="stroke:#181818;stroke-width:1;" width="10" x="1188.3994" y="864.9141"/></g><g><title>.Book</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1353.9292" y="1137.6406"/></g><g><title>.GenreRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1455.2061" y="478.5664"/></g><g><title>.AuthorRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1599.1289" y="642.4297"/></g><g><title>.BookRepository</title><rect fill="#FFFFFF" height="110.5527" style="stroke:#181818;stroke-width:1;" width="10" x="1739.7021" y="1225.5723"/></g><path d="M1040,133.9766 L1040,265.9766 L1345,265.9766 L1345,143.9766 L1335,133.9766 L1040,133.9766" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1335,133.9766 L1335,143.9766 L1345,143.9766 L1335,133.9766" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="221.4063" x="1046" y="151.5449">Setup Time (Application Startup):</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.7012" x="1046" y="166.8555">- Spring l&#234; application.properties</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.8896" x="1046" y="182.166">- Profile ativo: spring.profiles.active=base65</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.7749" x="1046" y="197.4766">- Bean Base65IdGenerator &#233; criado</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284.8066" x="1046" y="212.7871">- Injetado em BookFactory como IdGenerator</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="1046" y="228.0977">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.1094" x="1046" y="243.4082">Outras implementa&#231;&#245;es poss&#237;veis:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.8833" x="1046" y="258.7188">- Hexadecimal (@Profile("hexa"))</text><g class="message" data-participant-1="Client" data-participant-2="Controller"><polygon fill="#181818" points="302.334,365.3242,312.334,369.3242,302.334,373.3242,306.334,369.3242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="48.8672" x2="308.334" y1="369.3242" y2="369.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.3384" x="55.8672" y="288.0293">PUT /api/books/9780132350884</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="55.8672" y="303.3398">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.0068" x="64.0938" y="318.6504">"title": "Clean Code",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.9316" x="64.0938" y="333.9609">"genre": "Tech",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.5234" x="64.0938" y="349.2715">"authors": ["Robert Martin"]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="55.8672" y="364.582">}</text></g><g class="message" data-participant-1="Controller" data-participant-2="Service"><polygon fill="#181818" points="557.5581,394.6348,567.5581,398.6348,557.5581,402.6348,561.5581,398.6348" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="324.334" x2="563.5581" y1="398.6348" y2="398.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.2241" x="331.334" y="393.8926">create(resource, "9780132350884")</text></g><g class="message" data-participant-1="Service" data-participant-2="Service"><line style="stroke:#181818;stroke-width:1;" x1="579.5581" x2="621.5581" y1="432.1006" y2="432.1006"/><line style="stroke:#181818;stroke-width:1;" x1="621.5581" x2="621.5581" y1="432.1006" y2="445.1006"/><line style="stroke:#181818;stroke-width:1;" x1="580.5581" x2="621.5581" y1="445.1006" y2="445.1006"/><polygon fill="#181818" points="590.5581,441.1006,580.5581,445.1006,590.5581,449.1006,586.5581,445.1006" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.1924" x="586.5581" y="427.3584">Validar ISBN format</text></g><path d="M730.1924,411.6348 L730.1924,451.6348 L896.1924,451.6348 L896.1924,421.6348 L886.1924,411.6348 L730.1924,411.6348" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M886.1924,411.6348 L886.1924,421.6348 L896.1924,421.6348 L886.1924,411.6348" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.1392" x="736.1924" y="429.2031">Valida formato do ISBN</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.5713" x="736.1924" y="444.5137">(13 d&#237;gitos, checksum)</text><g class="message" data-participant-1="Service" data-participant-2="GenreRepo"><polygon fill="#181818" points="1443.2061,474.5664,1453.2061,478.5664,1443.2061,482.5664,1447.2061,478.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="579.5581" x2="1449.2061" y1="478.5664" y2="478.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.5283" x="586.5581" y="473.8242">findByString("Tech")</text></g><g class="message" data-participant-1="GenreRepo" data-participant-2="Service"><polygon fill="#181818" points="590.5581,503.877,580.5581,507.877,590.5581,511.877,586.5581,507.877" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="584.5581" x2="1459.2061" y1="507.877" y2="507.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.8267" x="596.5581" y="503.1348">Optional&lt;Genre&gt;</text></g><path d="M10,522.877 L72.1387,522.877 L72.1387,530.1875 L62.1387,540.1875 L10,540.1875 L10,522.877" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="624.1563" x="10" y="522.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="536.4453">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133.4502" x="87.1387" y="535.5117">[Genre n&#227;o encontrado]</text><g class="message" data-participant-1="Service" data-participant-2="Controller"><polygon fill="#181818" points="335.334,557.498,325.334,561.498,335.334,565.498,331.334,561.498" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="329.334" x2="573.5581" y1="561.498" y2="561.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.8647" x="341.334" y="556.7559">throw NotFoundException</text></g><g class="message" data-participant-1="Controller" data-participant-2="Client"><polygon fill="#181818" points="59.8672,602.1191,49.8672,606.1191,59.8672,610.1191,55.8672,606.1191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="53.8672" x2="318.334" y1="606.1191" y2="606.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="65.8672" y="586.0664">404 Not Found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.7837" x="65.8672" y="601.377">{"error": "Genre not found"}</text></g><g class="message" data-participant-1="Service" data-participant-2="AuthorRepo"><polygon fill="#181818" points="1587.1289,638.4297,1597.1289,642.4297,1587.1289,646.4297,1591.1289,642.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="574.5581" x2="1593.1289" y1="642.4297" y2="642.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.6958" x="581.5581" y="637.6875">findByName("Robert Martin")</text></g><g class="message" data-participant-1="AuthorRepo" data-participant-2="Service"><polygon fill="#181818" points="585.5581,667.7402,575.5581,671.7402,585.5581,675.7402,581.5581,671.7402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="579.5581" x2="1603.1289" y1="671.7402" y2="671.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.8315" x="591.5581" y="666.998">Optional&lt;Author&gt;</text></g><path d="M10,686.7402 L72.1387,686.7402 L72.1387,694.0508 L62.1387,704.0508 L10,704.0508 L10,686.7402" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="91.2422" style="stroke:#000000;stroke-width:1.5;" width="624.1563" x="10" y="686.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="700.3086">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="139.165" x="87.1387" y="699.375">[Author n&#227;o encontrado]</text><g class="message" data-participant-1="Service" data-participant-2="Controller"><polygon fill="#181818" points="330.334,721.3613,320.334,725.3613,330.334,729.3613,326.334,725.3613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="324.334" x2="573.5581" y1="725.3613" y2="725.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.8647" x="336.334" y="720.6191">throw NotFoundException</text></g><g class="message" data-participant-1="Controller" data-participant-2="Client"><polygon fill="#181818" points="59.8672,765.9824,49.8672,769.9824,59.8672,773.9824,55.8672,769.9824" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="53.8672" x2="318.334" y1="769.9824" y2="769.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="65.8672" y="749.9297">404 Not Found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.7886" x="65.8672" y="765.2402">{"error": "Author not found"}</text></g><g class="message" data-participant-1="Service" data-participant-2="Factory"><polygon fill="#181818" points="933.5547,802.293,943.5547,806.293,933.5547,810.293,937.5547,806.293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="574.5581" x2="939.5547" y1="806.293" y2="806.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351.9966" x="581.5581" y="801.5508">create(isbn, title, description, genre, authors, photoURI)</text></g><g class="message" data-participant-1="Factory" data-participant-2="IdGenInterface"><polygon fill="#181818" points="1043.4824,831.6035,1053.4824,835.6035,1043.4824,839.6035,1047.4824,835.6035" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="955.5547" x2="1049.4824" y1="835.6035" y2="835.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.645" x="962.5547" y="830.8613">generateId()</text></g><g class="message" data-participant-1="IdGenInterface" data-participant-2="Base65Generator"><polygon fill="#181818" points="1176.3994,860.9141,1186.3994,864.9141,1176.3994,868.9141,1180.3994,864.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1065.4824" x2="1182.3994" y1="864.9141" y2="864.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.645" x="1072.4824" y="860.1719">generateId()</text></g><g class="message" data-participant-1="Base65Generator" data-participant-2="Base65Generator"><line style="stroke:#181818;stroke-width:1;" x1="1198.3994" x2="1240.3994" y1="898.3799" y2="898.3799"/><line style="stroke:#181818;stroke-width:1;" x1="1240.3994" x2="1240.3994" y1="898.3799" y2="911.3799"/><line style="stroke:#181818;stroke-width:1;" x1="1199.3994" x2="1240.3994" y1="911.3799" y2="911.3799"/><polygon fill="#181818" points="1209.3994,907.3799,1199.3994,911.3799,1209.3994,915.3799,1205.3994,911.3799" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.5298" x="1205.3994" y="893.6377">LocalDateTime.now()</text></g><path d="M1358.5298,877.9141 L1358.5298,917.9141 L1557.5298,917.9141 L1557.5298,887.9141 L1547.5298,877.9141 L1358.5298,877.9141" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1547.5298,877.9141 L1547.5298,887.9141 L1557.5298,887.9141 L1547.5298,877.9141" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.9653" x="1364.5298" y="895.4824">Obter timestamp atual</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.3755" x="1364.5298" y="910.793">e.g., 2025-10-31T16:10:00</text><g class="message" data-participant-1="Base65Generator" data-participant-2="Base65Generator"><line style="stroke:#181818;stroke-width:1;" x1="1198.3994" x2="1240.3994" y1="944.8457" y2="944.8457"/><line style="stroke:#181818;stroke-width:1;" x1="1240.3994" x2="1240.3994" y1="944.8457" y2="957.8457"/><line style="stroke:#181818;stroke-width:1;" x1="1199.3994" x2="1240.3994" y1="957.8457" y2="957.8457"/><polygon fill="#181818" points="1209.3994,953.8457,1199.3994,957.8457,1209.3994,961.8457,1205.3994,957.8457" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.8013" x="1205.3994" y="940.1035">encodeBase65()</text></g><g class="message" data-participant-1="Base65Generator" data-participant-2="IdGenInterface"><polygon fill="#181818" points="1076.4824,983.1563,1066.4824,987.1563,1076.4824,991.1563,1072.4824,987.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1070.4824" x2="1192.3994" y1="987.1563" y2="987.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11.9399" x="1082.4824" y="982.4141">id</text></g><g class="message" data-participant-1="IdGenInterface" data-participant-2="Factory"><polygon fill="#181818" points="966.5547,1012.4668,956.5547,1016.4668,966.5547,1020.4668,962.5547,1016.4668" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="960.5547" x2="1059.4824" y1="1016.4668" y2="1016.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11.9399" x="972.5547" y="1011.7246">id</text></g><g class="message" data-participant-1="Factory" data-participant-2="Book"><polygon fill="#181818" points="1341.9292,1133.6406,1351.9292,1137.6406,1341.9292,1141.6406,1345.9292,1137.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="955.5547" x2="1347.9292" y1="1137.6406" y2="1137.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.7144" x="962.5547" y="1041.0352">new Book(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.0532" x="962.5547" y="1056.3457">id,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.688" x="962.5547" y="1071.6563">"9780132350884",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.5854" x="962.5547" y="1086.9668">"Clean Code",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.0918" x="962.5547" y="1102.2773">genre,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.2222" x="962.5547" y="1117.5879">authors,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2832" x="962.5547" y="1132.8984">photoURI)</text></g><g class="message" data-participant-1="Book" data-participant-2="Factory"><polygon fill="#181818" points="966.5547,1162.9512,956.5547,1166.9512,966.5547,1170.9512,962.5547,1166.9512" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="960.5547" x2="1357.9292" y1="1166.9512" y2="1166.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.751" x="972.5547" y="1162.209">book</text></g><g class="message" data-participant-1="Factory" data-participant-2="Service"><polygon fill="#181818" points="585.5581,1192.2617,575.5581,1196.2617,585.5581,1200.2617,581.5581,1196.2617" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="579.5581" x2="949.5547" y1="1196.2617" y2="1196.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.751" x="591.5581" y="1191.5195">book</text></g><g class="message" data-participant-1="Service" data-participant-2="BookRepo"><polygon fill="#181818" points="1727.7021,1221.5723,1737.7021,1225.5723,1727.7021,1229.5723,1731.7021,1225.5723" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="574.5581" x2="1733.7021" y1="1225.5723" y2="1225.5723"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.9834" x="581.5581" y="1220.8301">save(book)</text></g><g class="message" data-participant-1="BookRepo" data-participant-2="BookRepo"><line style="stroke:#181818;stroke-width:1;" x1="1749.7021" x2="1791.7021" y1="1274.3486" y2="1274.3486"/><line style="stroke:#181818;stroke-width:1;" x1="1791.7021" x2="1791.7021" y1="1274.3486" y2="1287.3486"/><line style="stroke:#181818;stroke-width:1;" x1="1750.7021" x2="1791.7021" y1="1287.3486" y2="1287.3486"/><polygon fill="#181818" points="1760.7021,1283.3486,1750.7021,1287.3486,1760.7021,1291.3486,1756.7021,1287.3486" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.6172" x="1756.7021" y="1269.6064">EntityManager.persist(book)</text></g><path d="M1954.6172,1238.5723 L1954.6172,1309.5723 L2121.6172,1309.5723 L2121.6172,1248.5723 L2111.6172,1238.5723 L1954.6172,1238.5723" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2111.6172,1238.5723 L2111.6172,1248.5723 L2121.6172,1248.5723 L2111.6172,1238.5723" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.5361" x="1960.6172" y="1256.1406">JPA/Hibernate:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7451" x="1960.6172" y="1271.4512">- INSERT INTO books</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.3936" x="1960.6172" y="1286.7617">- Gera version = 0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.1548" x="1960.6172" y="1302.0723">- Commit da transa&#231;&#227;o</text><g class="message" data-participant-1="BookRepo" data-participant-2="Service"><polygon fill="#181818" points="585.5581,1332.125,575.5581,1336.125,585.5581,1340.125,581.5581,1336.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="579.5581" x2="1743.7021" y1="1336.125" y2="1336.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.751" x="591.5581" y="1331.3828">book</text></g><g class="message" data-participant-1="Service" data-participant-2="Controller"><polygon fill="#181818" points="330.334,1361.4355,320.334,1365.4355,330.334,1369.4355,326.334,1365.4355" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="324.334" x2="573.5581" y1="1365.4355" y2="1365.4355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.751" x="336.334" y="1360.6934">book</text></g><g class="message" data-participant-1="Controller" data-participant-2="Controller"><line style="stroke:#181818;stroke-width:1;" x1="319.334" x2="361.334" y1="1425.3672" y2="1425.3672"/><line style="stroke:#181818;stroke-width:1;" x1="361.334" x2="361.334" y1="1425.3672" y2="1438.3672"/><line style="stroke:#181818;stroke-width:1;" x1="320.334" x2="361.334" y1="1438.3672" y2="1438.3672"/><polygon fill="#181818" points="330.334,1434.3672,320.334,1438.3672,330.334,1442.3672,326.334,1438.3672" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.522" x="326.334" y="1390.0039">Construir response:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.8384" x="326.334" y="1405.3145">ResponseEntity.created()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.71" x="326.334" y="1420.625">ETag: "0"</text></g><g class="message" data-participant-1="Controller" data-participant-2="Client"><polygon fill="#181818" points="59.8672,1570.8516,49.8672,1574.8516,59.8672,1578.8516,55.8672,1574.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="53.8672" x2="318.334" y1="1574.8516" y2="1574.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.7969" x="65.8672" y="1462.9355">201 Created</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.4668" x="65.8672" y="1478.2461">Location: /api/books/9780132350884</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.71" x="65.8672" y="1493.5566">ETag: "0"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="65.8672" y="1508.8672">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6436" x="74.0938" y="1524.1777">"id": "id",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.2612" x="74.0938" y="1539.4883">"isbn": "9780132350884",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.8936" x="74.0938" y="1554.7988">"title": "Clean Code"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="65.8672" y="1570.1094">}</text></g><!--SRC=[pLRDRXit4BxlKmmsXqY694l-ITs5OzHId4I5OnkMaalL0xKxbjZiaWik9TieyZGz52cGOvz0BzOXzqVSjHmKFTK7cJkS6Gu_VlEZkOuHFl5CCuWGRfGCCSiaTE5gyssDCHm5C9JoymJLceVO2nKoZQqsAOmKPvi_Dtz8OtZ9rqf2A1FZuex7s9sp32COlu5tA50npQNmF1PggS0FHZ57eT47ba6-zbAcD0zvoeGc1NFcI0gjP1oZolMgpnswHNnMiLZlq7fhpt-qMiNQcyi7y4TCALomICAQi_8AFhouv8kb7iOhz83-wWx7KN4pgMRYz9JJVTGT2_7ipFgts-DIkCD-I02zEgvv-QaukVLoRZTVjgshNBFIyr14G67lk62kJel67jaglCLKPhm2e98rTCzNUYbLGtaht75gGxSKUPwG6a6kKJsv0i3UtWJrAeKfJn1QvsaQyz2o12QQJbYbxM1lZ_IwC4aL5mk8Dty1swhrKYLJf50mire5T42RQnb0PesCaf5cFNfjliRNEQxMO8XCm9D7WCrN28dPaRHAO_4RQiCBJC1Xa66w1CVC8-thbLPqVPwaCIP4QPCTVsC614vcaebdWVNv7XzOX25FM0ojwidz9OdzTjk-hW7Ey_BCWEwPm_q0RZvEOP-bV7zEyMJxF_vmqXyS7XmUzqzEZcRYzva0yBL9QpyWOiVcbYCPeT-nEmlpwcPdYk6oa37xk1b9V_5lvPn0XG_caON_wqnyyInqbFLk1dhRjOclIBa0YlgWC9Ch5M87_5fyVdlhhKnJhrZK_7nYCO-OWl5aU0LtKYLCvsnI9YC9nboXsA8I9AqgRRG6Xn1jlYs8Zra7mYM6dxDLuiBgd5VbG01tN4J3nuasj6dbw3Z1RfEbMa7N3VWwDQHayQdTF_CYt67hiLZddo1CuKGH6XXpiW4uWRaFhfTAtiELr6_bIaGN3o7Qiwo9Sqo9fn6xhsEyMI85SDG_Cdx0EYAk-AYKL8ODHL2qTsVs_2zDxyxR4v8r4BUreKJnYYL4w3gL732TOh9TFWDdhb33qp6tWERV_pT4owZ-4wH5cQdoYMTpqG6RrHroaL65iX5tmEPp1ueKxa2wb5f-l1qxS9UTpYkB5nrGxqw1SMCA6OwZbcFPw65U_TluQTJrvnmrox_N4EnqTIb35hyXSzCYUaBUayTw4RYUKoW4Iu8qloGfrVuLYqcElKMl0mVzW-FkeDyz74m7hu91F-ZtjrNWtmHWo1HXBZPdFx7P0IIFNAe-kNSJGVUjwwPDx9t7Cuqe087tTjMQ2HvH8MzKMYEfL_-SAZDHScKcTf353W-U-Qq7PvfDxMPMhmhApTscQiK_X-3bZ42DcgsnPKmQGUJvNQxgDXU2Kk7n0nDiWQf7Kq160spXf4QGds_EzzzpAaE2tERTTtmrkRYTqh_fjOqqdnxUqGF1sZYY0UGrzArm99E4Qw0sGnL5PFcqwpIIRN3Vk_xsCjNz6-MeQL5rndgJTKredMcruWgerQRqWS5Ct1RB79vYLgSyd8cBALjGJUhxTPzE8Jle3sYYjmOpOJBFb9VWEuD6vRASENXaoXxzvaE5ALb6y8ILpumdPjBONHp_0G00]--></g></svg>